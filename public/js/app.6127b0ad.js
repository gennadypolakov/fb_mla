(function(t){function e(e){for(var o,n,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)n=i[d],a[n]&&f.push(a[n][0]),a[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],o=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=r[0]))}return t}var o={},a={app:0},s=[];function n(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=o,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"2af1":function(t,e,r){},3889:function(t,e,r){"use strict";var o=r("d870"),a=r.n(o);a.a},4560:function(t,e,r){"use strict";var o=r("640c"),a=r.n(o);a.a},"549a":function(t,e,r){"use strict";var o=r("c258"),a=r.n(o);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("744f"),r("6c7b"),r("7514"),r("20d6"),r("1c4c"),r("6762"),r("cadf"),r("e804"),r("55dd"),r("d04f"),r("c8ce"),r("217b"),r("7f7f"),r("f400"),r("7f25"),r("536b"),r("d9ab"),r("f9ab"),r("32d7"),r("25c9"),r("9f3c"),r("042e"),r("c7c6"),r("f4ff"),r("049f"),r("7872"),r("a69f"),r("0b21"),r("6c1a"),r("c7c62"),r("84b4"),r("c5f6"),r("2e37"),r("fca0"),r("7cdf"),r("ee1d"),r("b1b1"),r("87f3"),r("9278"),r("5df2"),r("04ff"),r("f751"),r("4504"),r("fee7"),r("ffc1"),r("0d6d"),r("9986"),r("8e6e"),r("25db"),r("e4f7"),r("b9a1"),r("64d5"),r("9aea"),r("db97"),r("66c8"),r("57f0"),r("165b"),r("456d"),r("cf6a"),r("fd24"),r("8615"),r("551c"),r("097d"),r("df1b"),r("2397"),r("88ca"),r("ba16"),r("d185"),r("ebde"),r("2d34"),r("f6b3"),r("2251"),r("c698"),r("a19f"),r("9253"),r("9275"),r("3b2b"),r("3846"),r("4917"),r("a481"),r("28a5"),r("386d"),r("6b54"),r("4f7f"),r("8a81"),r("ac4d"),r("8449"),r("9c86"),r("fa83"),r("48c0"),r("a032"),r("aef6"),r("d263"),r("6c37"),r("9ec8"),r("5695"),r("2fdb"),r("d0b0"),r("5df3"),r("b54a"),r("f576"),r("ed50"),r("788d"),r("14b9"),r("f386"),r("f559"),r("1448"),r("673e"),r("242a"),r("c66f"),r("b05c"),r("34ef"),r("6aa2"),r("15ac"),r("af56"),r("b6e4"),r("9c29"),r("63d9"),r("4dda"),r("10ad"),r("c02b"),r("4795"),r("130f"),r("ac6a"),r("96cf");var o=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-content",[r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("router-view")],1)],1)],1)},s=[],n=r("2877"),i={},c=Object(n["a"])(i,a,s,!1,null,null,null),l=c.exports,u=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.profilesLoaded?r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg8:"","offset-lg2":""}},[r("Toolbar"),r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{"mb-3":""}},[r("h2",{staticClass:"headline"},[t._v("Запуск работы с аккаунтами фейсбука")])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md6:"","px-1":""}},[r("v-text-field",{attrs:{label:"Время на 1 аккаунт, дней",outlined:""},model:{value:t.days,callback:function(e){t.days=e},expression:"days"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:"","px-1":""}},[r("v-text-field",{attrs:{label:"Постов в день, шт",outlined:""},model:{value:t.postsPerDay,callback:function(e){t.postsPerDay=e},expression:"postsPerDay"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:"","px-1":""}},[r("v-text-field",{attrs:{label:"Длительность одной сессии, минут",outlined:""},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:"","px-1":""}},[r("v-text-field",{attrs:{label:"Период рекламы, дней",outlined:""},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}})],1)],1),r("v-layout",{attrs:{row:"","mb-3":""}},[r("v-flex",[r("v-btn",{attrs:{large:"",color:"info",loading:!!t.accountsInProgress,disabled:!!t.accountsInProgress},on:{click:t.accountHandler}},[t._v("Запустить")])],1)],1),t.accountsInProgress?r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{"my-3":""}},[r("p",[t._v("Аккаунтов обрабатывается: "+t._s(t.accountsInProgress))])])],1):t._e(),t.progressValue?r("v-layout",{attrs:{row:"","mb-3":""}},[r("v-flex",{attrs:{"my-3":""}},[r("p",[t._v("Аккаунтов обработано: "+t._s(t.handledAccounts))]),r("v-progress-linear",{attrs:{color:"teal","buffer-value":"0",value:t.progressValue,stream:""}})],1)],1):t._e(),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","my-3":""}},[r("h2",{staticClass:"headline"},[t._v("Работа с аккаунтами")])])],1),r("v-radio-group",{attrs:{row:""},model:{value:t.profileFilter,callback:function(e){t.profileFilter=e},expression:"profileFilter"}},[r("v-radio",{attrs:{label:"Все",value:"all",color:"primary"}}),r("v-radio",{attrs:{label:"Рабочие",value:"active",color:"primary",default:""}}),r("v-radio",{attrs:{label:"Забаненные",value:"banned",color:"primary"}})],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.profilesArr,"items-per-page":20,"footer-props":{"items-per-page-options":[10,20,50,100,500],"items-per-page-all-text":"Все","items-per-page-text":"Показать строк"}},scopedSlots:t._u([{key:"body",fn:function(e){return t._l(e.items,function(e,o){return r("tr",{key:o},[r("td",[t._v(t._s(o+1))]),r("td",[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.name))]),e.active?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("done")])],1):r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("clear")])],1),r("td",{staticClass:"text-xs-center"},[t._v("\n                  "+t._s(e.numPosts)+"\n                ")]),1===e.captcha?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"gray"}},[t._v("clear")])],1):2===e.captcha?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("done")])],1):3===e.captcha?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("done")])],1):t._e(),1===e.phone?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"gray"}},[t._v("clear")])],1):2===e.phone?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("done")])],1):3===e.phone?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("done")])],1):t._e(),1===e.sms?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"gray"}},[t._v("clear")])],1):2===e.sms?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("done")])],1):3===e.sms?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("done")])],1):t._e(),1===e.photo?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"gray"}},[t._v("clear")])],1):2===e.photo?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("done")])],1):3===e.photo?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("done")])],1):t._e(),1===e.moderation?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"gray"}},[t._v("clear")])],1):2===e.moderation?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("done")])],1):3===e.moderation?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("done")])],1):t._e(),e.banned?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("done")])],1):r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("clear")])],1),e.payOrder?r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"green"}},[t._v("done")])],1):r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticStyle:{color:"red"}},[t._v("clear")])],1)])})}}])})],1)],1)],1)],1)],1):r("v-row",[r("v-col",{attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}})],1)],1)},f=[],p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-toolbar",[r("v-spacer"),t.$vuetify.breakpoint.smAndUp?[r("router-link",{attrs:{to:"/"}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("home")])],1)],1),r("router-link",{attrs:{to:"/upload"}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{title:"Загрузка данных"}},[t._v("cloud_upload")])],1)],1),r("router-link",{attrs:{to:"/errors"}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{title:"Ошибки"}},[t._v("bug_report")])],1)],1),t.authToken?r("v-btn",{attrs:{icon:""},on:{click:t.exit}},[r("v-icon",{attrs:{title:"Выход"}},[t._v("exit_to_app")])],1):t._e()]:t._e()],2)},v=[],h={name:"Toolbar",methods:{exit:function(){this.$store.dispatch("exit"),document.location.reload()}},computed:{authToken:function(){return this.$store.state.shared.authToken}}},m=h,g=(r("549a"),Object(n["a"])(m,p,v,!1,null,"3a6acc04",null)),b=g.exports,y={name:"home",components:{Toolbar:b},data:function(){return{days:null,postsPerDay:null,duration:null,interval:null,numProfiles:null,pagination:{rowsPerPage:20,rowsPerPageItems:[10,20,50,100,500],rowsPerPageText:"Показать строк"},profileFilter:"all",headers:[{text:"#",sortable:!1},{text:"Id",sortable:!1},{text:"Аккаунт",align:"left",sortable:!1},{text:"Активный",sortable:!1},{text:"Посты",sortable:!1},{text:"Капча",sortable:!1},{text:"Тел",sortable:!1},{text:"СМС",sortable:!1},{text:"Фото",sortable:!1},{text:"Модерация",sortable:!1},{text:"Бан",sortable:!1},{text:"Платежка",sortable:!1}]}},methods:{createProfile:function(){this.$store.dispatch("createProfile",this.numProfiles)},accountHandler:function(){this.$store.dispatch("accountHandler",{days:this.days,postsPerDay:this.postsPerDay,duration:this.duration,interval:this.interval})},account2Profile:function(){this.$store.dispatch("account2Profile",{days:this.days,postsPerDay:this.postsPerDay,duration:this.duration,interval:this.interval})}},computed:{accountsInProgress:function(){return this.$store.state.profiles.status.accountsInProgress},handledAccounts:function(){return this.$store.state.profiles.status.handledAccounts},accounts:function(){return this.$store.state.profiles.status.accounts},profilesLoaded:function(){return this.$store.state.profiles.profilesLoaded},progressValue:function(){return this.accounts?this.handledAccounts/this.accounts*100:0},loading:function(){return this.$store.state.shared.loading},totalNumProfiles:function(){return Object.keys(this.$store.state.profiles.profiles).length},createdNumProfiles:function(){return this.$store.state.createdNumProfiles},numAccounts2Profiles:function(){return this.$store.state.profiles.numAccounts2Profiles},profilesArr:function(){var t=this.$store.state.profiles.profilesArr.map(function(t){var e=0;if(t.posts)if(t.posts instanceof Array)e=t.posts.length;else if(t.posts instanceof Object)for(var r in t.posts)t.posts.hasOwnProperty(r)&&(e+=t.posts[r].length);return t.numPosts=e,t});if(this.profileFilter){if("banned"===this.profileFilter)return t.filter(function(t){return t.banned});if("active"===this.profileFilter)return t.filter(function(t){return t.active})}return t}}},x=y,w=(r("c219"),Object(n["a"])(x,d,f,!1,null,null,null)),_=w.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.profilesLoaded?r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg8:"","offset-lg2":""}},[r("Toolbar"),r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","my-3":""}},[r("h2",{staticClass:"headline"},[t._v("Перенос профилей")])])],1),r("v-layout",{attrs:{row:"","mb-3":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","px-1":""}},[r("v-text-field",{attrs:{label:"Аккаунт",outlined:"",rules:[t.rules.required,t.rules.email]},model:{value:t.multiloginAcc,callback:function(e){t.multiloginAcc=e},expression:"multiloginAcc"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","px-1":""}},[r("v-btn",{attrs:{large:"",color:"info",loading:t.loading,disabled:t.shareDisabled},on:{click:t.share}},[t._v("передать")])],1)],1),r("v-radio-group",{attrs:{row:""},model:{value:t.profileFilter,callback:function(e){t.profileFilter=e},expression:"profileFilter"}},[r("v-radio",{attrs:{label:"с истекшим сроком обработки",value:"expired",color:"primary",default:""}}),r("v-radio",{attrs:{label:"все активные",value:"all",color:"primary"}})],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.profilesArr,"items-per-page":20,"show-select":"","footer-props":{"items-per-page-options":[10,20,50,100,500],"items-per-page-all-text":"Все","items-per-page-text":"Показать строк"}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1)],1):r("v-row",[r("v-col",{attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}})],1)],1)},k=[];function S(t){return C(t)||O(t)||T()}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function O(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function C(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var A=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,j={name:"share",components:{Toolbar:b},data:function(){return{rules:{required:function(t){return!!t.trim()||"Укажите логин аккаунта в Multilogin!"},email:function(t){return A.test(t)||"Некорректный e-mail!"}},multiloginAcc:"",selected:[],pagination:{rowsPerPage:20,rowsPerPageItems:[10,20,50,100,500],rowsPerPageText:"Показать строк"},profileFilter:"expired",headers:[{text:"Id",sortable:!1,value:"id"},{text:"Profile id",sortable:!1,value:"profileId"},{text:"Аккаунт",align:"left",sortable:!1,value:"name"}]}},methods:{share:function(){this.selectedIds.length&&this.multiloginAcc&&this.$store.dispatch("shareProfiles",{ids:this.selectedIds,user:this.multiloginAcc}),console.log(this.selectedIds)}},computed:{shareDisabled:function(){return!this.selectedIds.length||!this.multiloginAcc||!A.test(this.multiloginAcc)||this.$store.state.shared.loading},profilesLoaded:function(){return this.$store.state.profiles.profilesLoaded},loading:function(){return this.$store.state.shared.loading},profiles:function(){var t=Object.values(this.$store.state.profiles.profiles);console.log(t)},selectedIds:function(){var t=this,e=[];return this.selected.forEach(function(r){t.$store.state.profiles.profiles[r.id].shared||(e=[].concat(S(e),[r]))}),this.selected=S(e),this.selected.map(function(t){return t.id})},profilesArr:function(){var t=this;return this.$store.state.profiles.profilesArr.filter(function(e){return"all"===t.profileFilter?e.active&&e.profileId&&e.profileId.trim():"expired"===t.profileFilter?e.active&&!e.shared&&e.profileId&&e.profileId.trim()&&e.created+24*e.days*60*60*1e3<new Date:void 0})}}},$=j,E=(r("4560"),Object(n["a"])($,P,k,!1,null,null,null)),L=E.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.profilesLoaded?r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg8:"","offset-lg2":""}},[r("v-card",[r("Toolbar"),r("v-container",{attrs:{fluid:"","grid-list-xl":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("h1",[t._v("Загрузка данных")]),r("v-radio-group",{attrs:{row:""},model:{value:t.dataType,callback:function(e){t.dataType=e},expression:"dataType"}},[r("v-radio",{attrs:{label:"Прокси",value:"proxy",color:"primary"}}),r("v-radio",{attrs:{label:"Аккаунты",value:"accounts",color:"primary",default:""}})],1),"proxy"===t.dataType?r("div",[r("h2",[t._v("Тип прокси")]),r("v-radio-group",{attrs:{row:""},model:{value:t.proxyType,callback:function(e){t.proxyType=e},expression:"proxyType"}},[r("v-radio",{attrs:{label:"SOCKS",value:"SOCKS",color:"primary",default:""}}),r("v-radio",{attrs:{label:"HTTP",value:"HTTP",color:"primary"}})],1)],1):t._e(),r("div",{staticClass:"data-format"},[r("h2",[t._v("Формат данных в файле")]),r("p",[t._v("каждая запись с новой строки")]),"accounts"===t.dataType?r("p",[t._v("\n                login"),r("span",[t._v(";")]),t._v("password\n              ")]):"proxy"===t.dataType?r("p",[t._v("\n                login"),r("span",[t._v(":")]),t._v("password"),r("span",[t._v("@")]),t._v("host"),r("span",[t._v(":")]),t._v("port\n              ")]):t._e()]),r("v-file-input",{attrs:{placeholder:"выберите файл с исходными данными","prepend-icon":"attach_file",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){var o=e.text;return[r("v-chip",{attrs:{small:"",label:"",color:"primary"}},[t._v(t._s(o))])]}}]),model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),t.uploadingStatus.length>0?r("v-flex",{attrs:{xs12:""}},[r("div",[r("h2",[t._v("Результат обработки")]),r("ul",t._l(t.uploadingStatus,function(e,o){return r("li",{key:o},[t._v("\n                  файл "+t._s(e.name)+"\n                  "),r("br"),t._v("\n                  валидных строк "+t._s(e.ok)+"\n                  "),r("br"),t._v("\n                  строк с ошибками "+t._s(e.error)+"\n                  "),r("br")])}),0)])]):t._e(),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mb-3":""}},[r("v-btn",{attrs:{color:"info",loading:t.loading,disabled:t.loading||0===t.files.length||t.dataSent},on:{click:t.sendData}},[t._v("Загрузить")])],1)],1)],1)],1)],1)],1):r("v-layout",[r("v-flex",{staticClass:"text-center py-5",attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}})],1)],1)},D=[],F={name:"Upload",components:{Toolbar:b},data:function(){return{files:[],dataType:"proxy",proxyType:"SOCKS"}},methods:{sendData:function(){var t={files:this.files,route:this.dataType};"proxy"===this.dataType&&(t.type=this.proxyType),this.$store.dispatch("sendData",t)}},computed:{loading:function(){return this.$store.state.shared.loading},profilesLoaded:function(){return this.$store.state.profiles.profilesLoaded},dataSent:function(){return this.$store.state.uploads.dataSent},uploadingStatus:function(){return this.$store.state.uploads.uploadingStatus}},watch:{files:function(){this.$store.dispatch("dataSent",!1),this.$store.dispatch("uploadingStatus",[])}}},W=F,N=(r("3889"),Object(n["a"])(W,I,D,!1,null,"ffc45d5e",null)),z=N.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("v-row",[r("v-col",{attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}})],1)],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg8:"","offset-lg2":""}},[r("Toolbar"),r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mb-3":""}},[r("h2",{staticClass:"headline"},[t._v("Ошибки")])])],1),r("v-divider"),t.errors.length?r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.errors,"items-per-page":20,"footer-props":{"items-per-page-options":[10,20,50,100,500],"items-per-page-all-text":"Все","items-per-page-text":"Показать строк"}},scopedSlots:t._u([{key:"body",fn:function(e){return t._l(e.items,function(e,o){return r("tr",{key:o},[r("td",[t._v("\n                  "+t._s(e.selector)+"\n                ")]),r("td",{staticClass:"text-xs-center"},[t._v("\n                  "+t._s(e.notFound)+"\n                ")]),r("td",{staticClass:"text-xs-center"},[t._v("\n                  "+t._s(e.notClickable)+"\n                ")])])})}}],null,!1,2543016614)}):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mb-3":""}},[r("p",[t._v("Лог ошибок пуст")])])],1)],1)],1)],1)],1)],1)},H=[],J={name:"home",components:{Toolbar:b},data:function(){return{pagination:{rowsPerPage:20,rowsPerPageItems:[10,20,50,100,500],rowsPerPageText:"Показать строк"},profileStatus:"all",headers:[{text:"Селектор",align:"left",sortable:!1,value:"selector"},{text:"Не найден",sortable:!1,value:"notFound"},{text:"Не кликабелен",sortable:!1,value:"notClickable"}]}},created:function(){this.$store.dispatch("errors")},computed:{errors:function(){var t=this;return this.$store.state.errors.errorsArray.map(function(e){var r={selector:e,notFound:0,notClickable:0},o=t.$store.state.errors.errors;return o[e].notFound&&(r.notFound=o[e].notFound),o[e].notClickable&&(r.notClickable=o[e].notClickable),r})},loading:function(){return this.$store.state.shared.loading}}},U=J,R=Object(n["a"])(U,M,H,!1,null,null,null),K=R.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[r("v-card",{staticClass:"elevation-12"},[r("v-card-text",[r("v-text-field",{attrs:{label:"Пароль","prepend-icon":"lock",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),r("v-btn",{attrs:{icon:"",type:"submit"}},[r("v-icon",{attrs:{title:"Вход"}},[t._v("arrow_forward_ios")])],1)],1)],1)],1)],1)},q=[],Z={data:function(){return{password:null}},methods:{submit:function(){this.$store.dispatch("login",this.password)}}},B=Z,G=(r("dacd"),Object(n["a"])(B,V,q,!1,null,"49840522",null)),Q=G.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("v-row",[r("v-col",{attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}})],1)],1):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("Toolbar"),r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mb-3":""}},[r("h2",{staticClass:"headline"},[t._v("Посты")])])],1),r("v-divider"),t.posts.length?r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.posts,"items-per-page":20,"footer-props":{"items-per-page-options":[10,20,50,100,500],"items-per-page-all-text":"Все","items-per-page-text":"Показать строк"}},scopedSlots:t._u([{key:"body",fn:function(e){return t._l(e.items,function(e,o){return r("tr",{key:o},[r("td",[t._v(t._s(e.name))]),r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.numPosts))])])})}}],null,!1,292525013)}):r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"","mb-3":""}},[r("p",[t._v("Лог постов пуст")])])],1)],1)],1)],1)],1)],1)},Y=[],tt={name:"home",components:{Toolbar:b},data:function(){return{pagination:{rowsPerPage:20,rowsPerPageItems:[10,20,50,100,500],rowsPerPageText:"Показать строк"},profileStatus:"all",headers:[{text:"Аккаунт",align:"left",sortable:!0,value:"name"},{text:"Количество постов",sortable:!0,value:"numPosts"}]}},computed:{posts:function(){return this.$store.state.profiles.profilesArr.map(function(t){var e=0;if(t.posts)if(t.posts instanceof Array)e=t.posts.length;else if(t.posts instanceof Object)for(var r in t.posts)t.posts.hasOwnProperty(r)&&(e+=t.posts[r].length);return t.numPosts=e,t})},loading:function(){return this.$store.state.shared.loading}}},et=tt,rt=Object(n["a"])(et,X,Y,!1,null,null,null),ot=rt.exports;o["default"].use(u["a"]);var at=new u["a"]({routes:[{path:"/",name:"home",component:_},{path:"/share",name:"share",component:L},{path:"/posts",name:"posts",component:ot},{path:"/upload",name:"upload",component:z},{path:"/login",name:"login",component:Q},{path:"/errors",name:"errors",component:K}],mode:"history"}),st=at,nt=r("2f62"),it=r("a34a"),ct=r.n(it),lt=r("7338"),ut=r.n(lt);function dt(t,e,r,o,a,s,n){try{var i=t[s](n),c=i.value}catch(l){return void r(l)}i.done?e(c):Promise.resolve(c).then(o,a)}function ft(t){return function(){var e=this,r=arguments;return new Promise(function(o,a){var s=t.apply(e,r);function n(t){dt(s,o,a,n,i,"next",t)}function i(t){dt(s,o,a,n,i,"throw",t)}n(void 0)})}}function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pt(r,!0).forEach(function(e){ht(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ht(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mt={state:{profiles:{},profilesArr:[],createdNumProfiles:0,numAccounts2Profiles:0,profilesLoaded:!1,status:{accountsInProgress:0,handledAccounts:0,accounts:0}},mutations:{createProfile:function(t,e){var r=e.profiles,o=e.createdNumProfiles;t.profiles=r,t.createdNumProfiles=o},setStatus:function(t,e){t.status=vt({},t.status,{},e)},numAccounts2Profiles:function(t,e){t.numAccounts2Profiles=e},profilesLoaded:function(t,e){for(var r in t.profilesLoaded=!0,t.profiles=e,e)e.hasOwnProperty(r)&&function(){var o={name:e[r].name||e[r].fbUser,active:!e[r].checkPoint,captcha:1,phone:1,sms:1,photo:1,moderation:1,banned:e[r].checkPoint&&"banned"===e[r].checkPoint,payOrder:!!e[r].payOrder,profileId:e[r].profileId,created:e[r].created,days:e[r].days,shared:e[r].shared};e[r].fbPublications&&(o.posts=e[r].fbPublications),e[r].checkPoint&&("reCaptcha"===e[r].checkPoint||"imageCaptcha"===e[r].checkPoint?o.captcha=2:o[e[r].checkPoint]=2),e[r].passedCheckPoints&&e[r].passedCheckPoints.forEach(function(t){"reCaptcha"===t||"imageCaptcha"===t?o.captcha=3:o[t]=3}),t.profilesArr.push(vt({id:r},o))}()}},actions:{createProfile:function(){var t=ft(ct.a.mark(function t(e,r){var o,a;return ct.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,a=e.rootState,o("clearError"),o("setLoading",!0),t.prev=3,t.next=6,ut.a.get("".concat(window.location.protocol,"//").concat(window.location.host,"/api/profiles/create/").concat(r,"/").concat(a.shared.authToken)).then(function(t){t.data&&t.data.profiles&&void 0!==t.data.createdNumProfiles&&o("createProfile",{profiles:t.data.profiles,createdNumProfiles:t.data.createdNumProfiles})}).catch(function(t){console.log(t)});case 6:o("setLoading",!1),t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](3),o("setLoading",!1),o("setError",t.t0.message),t.t0;case 14:case"end":return t.stop()}},t,null,[[3,9]])}));function e(e,r){return t.apply(this,arguments)}return e}(),accountHandler:function(t,e){var r=t.commit,o=t.rootState;r("clearError"),r("setLoading",!0),e.authToken=o.shared.authToken,ut.a.post("".concat(window.location.protocol,"//").concat(window.location.host,"/api/accounts/start-handling"),e).then(function(t){t.data&&"ok"===t.data.status&&(delete t.data.status,r("setStatus",t.data))}).catch(function(t){console.log(t),r("setLoading",!1)});var a=setInterval(function(){ut.a.get("".concat(window.location.protocol,"//").concat(window.location.host,"/api/accounts/status/").concat(o.shared.authToken)).then(function(t){t.data&&r("setStatus",t.data)}).catch(function(t){r("setLoading",!1),r("setError",t.message)})},1e4);r("setStatus",{intervalId:a})},account2Profile:function(t,e){var r=t.commit,o=t.rootState;r("clearError"),r("setLoading",!0),e.authToken=o.shared.authToken,ut.a.post("".concat(window.location.protocol,"//").concat(window.location.host,"/api/accounts/to/profiles/"),e).then(function(t){t.data&&void 0!==t.data.numAccounts2Profiles&&r("numAccounts2Profiles",t.data.numAccounts2Profiles),r("setLoading",!1)}).catch(function(t){console.log(t),r("setLoading",!1),r("setError",t.message)})},getProfiles:function(t){var e=t.commit,r=t.rootState;return e("clearError"),e("setLoading",!0),ut.a.get("".concat(window.location.protocol,"//").concat(window.location.host,"/api/profiles/").concat(r.shared.authToken)).then(function(t){t.data&&t.data.profiles&&e("profilesLoaded",t.data.profiles),e("setLoading",!1)}).catch(function(t){e("setLoading",!1),e("setError",t.message)})},shareProfiles:function(t,e){var r=t.commit,o=t.dispatch,a=(t.rootState,e.ids),s=e.user;r("clearError"),r("setLoading",!0),o("send",{action:"shareProfiles",ids:a,user:s})}}};function gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gt(r,!0).forEach(function(e){yt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xt={state:{loading:!1,error:null,authToken:null,wsAuth:null,ws:null},mutations:{setAuth:function(t,e){t.authToken=e},setWsAuth:function(t,e){t.wsAuth=e},setWs:function(t,e){t.ws=e},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null},exit:function(t){t.authToken=null,localStorage.removeItem("authToken")}},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("clearError")},setAuth:function(t){var e=t.commit,r=t.dispatch,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(o)localStorage.setItem("authToken",o),e("setAuth",o),r("setWsConnect",{authToken:o}),r("getProfiles").then(function(){return st.push("/")});else if(localStorage.getItem("authToken")){var a=localStorage.getItem("authToken");e("setAuth",a),r("setWsConnect",{authToken:a}),r("getProfiles").then(function(){return st.push("/")})}else st.push("/login")},setWsConnect:function(t,e){var r=t.commit,o=t.rootState,a=t.dispatch;if(!o.shared.ws){var s;try{s=new WebSocket("ws://".concat(window.location.hostname,":33000/"))}catch(n){setTimeout(function(){return a("setWsConnect",e)},1e3)}s.onopen=function(t){s.send(JSON.stringify(e)),s.onmessage||(s.onmessage=function(t){return a("wsMsg",t)}),s.onerror||(s.onerror=function(t){"ECONNREFUSED"!==t.code&&"ERR_CONNECTION_REFUSED"!==t.code||setTimeout(function(){return a("setWsConnect",e)},1e3)}),s.onclose||(s.onclose=function(t){console.log("ws.onclose",t),r("setWs",null),r("setWsAuth",null),a("setWsConnect",e)}),r("setWs",s)}}},send:function(t,e){var r=t.commit,o=t.rootState,a=t.dispatch;if(o.shared.wsAuth)try{o.shared.ws.send(JSON.stringify(e))}catch(s){r("setWsAuth",null),r("setWs",null),o.shared.authToken&&a("setWsConnect",bt({authToken:o.shared.authToken},e))}else r("setWs",null),o.shared.authToken&&a("setWsConnect",bt({authToken:o.shared.authToken},e))},wsMsg:function(t,e){var r=t.commit,o=(t.dispatch,t.rootState);if(console.log(e),e&&e.data){var a=JSON.parse(e.data);if(a&&(a.authToken&&a.authToken===o.shared.authToken&&r("setWsAuth",a.authToken),a.action&&o.shared.wsAuth)){var s=a.action;"shareProfiles"===s&&a.profiles&&r("profilesLoaded",a.profiles)}}},login:function(t,e){var r=t.commit,o=t.dispatch;r("clearError"),r("setLoading",!0),ut.a.post("".concat(window.location.protocol,"//").concat(window.location.host,"/api/login"),{password:e}).then(function(t){t.data&&"ok"===t.data.status?o("setAuth",t.data.authToken):r("setLoading",!1)}).catch(function(t){r("setLoading",!1),r("setError",t.message)})},exit:function(t){var e=t.commit;e("exit")}},getters:{error:function(t){return t.error}}},wt={state:{uploadingStatus:[],dataSent:!1},mutations:{uploadingStatus:function(t,e){t.uploadingStatus=e},dataSent:function(t,e){t.dataSent=e}},actions:{uploadingStatus:function(t,e){var r=t.commit;r("uploadingStatus",e)},sendData:function(t,e){var r=t.commit,o=t.rootState,a=e.files,s=e.route,n=e.type;if(r("dataSent",!1),r("clearError"),r("setLoading",!0),a.length>0){var i=new FormData;i.append("authToken",o.shared.authToken),n&&i.append("type",n);for(var c=0;c<a.length;c++)i.append("files",a[c]);ut.a.post("".concat(window.location.protocol,"//").concat(window.location.host,"/api/upload/").concat(s),i).then(function(t){t.data&&t.data.length>0&&(r("uploadingStatus",t.data),r("setLoading",!1),r("dataSent",!0))}).catch(function(t){r("setLoading",!1),r("setError",t.message)})}},dataSent:function(t,e){var r=t.commit;r("dataSent",e)}}},_t={state:{errors:{},errorsArray:[]},mutations:{errors:function(t,e){t.errorsArray=Object.keys(e),t.errors=e}},actions:{errors:function(t){var e=t.commit,r=t.rootState;e("clearError"),e("setLoading",!0),ut.a.get("".concat(window.location.protocol,"//").concat(window.location.host,"/api/errors/").concat(r.shared.authToken)).then(function(t){t.data&&e("errors",t.data),e("setLoading",!1)}).catch(function(t){e("setLoading",!1),e("setError",t.message)})}}};o["default"].use(nt["a"]);var Pt=new nt["a"].Store({modules:{errors:_t,profiles:mt,shared:xt,uploads:wt}}),kt=r("ce5b"),St=r.n(kt);r("bf40");o["default"].use(St.a);var Tt=new St.a({icons:{iconfont:"md"}});o["default"].config.productionTip=!1,o["default"].use({auth1:"alert auth"}),new o["default"]({router:st,store:Pt,vuetify:Tt,render:function(t){return t(l)},beforeCreate:function(){this.$store.state.shared.authToken?this.$store.dispatch("getProfiles"):this.$store.dispatch("setAuth")}}).$mount("#app")},"640c":function(t,e,r){},c219:function(t,e,r){"use strict";var o=r("e9bb"),a=r.n(o);a.a},c258:function(t,e,r){},d870:function(t,e,r){},dacd:function(t,e,r){"use strict";var o=r("2af1"),a=r.n(o);a.a},e9bb:function(t,e,r){}});
//# sourceMappingURL=app.6127b0ad.js.map